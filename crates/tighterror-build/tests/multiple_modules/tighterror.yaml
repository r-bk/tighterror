---
modules:
  - name: internal_errors
    doc_from_display: true
    categories:
      - name: Parser
        doc: Parser errors category.
        errors:
          - BAD_FILE: Configuration file is malformed.
      - name: Processor
        doc: Processor errors category.
        errors:
          - BAD_FILE: Processor file is malformed or missing.
          - BAD_STATE: Internal error, state mismatch.
  - name: errors
    doc_from_display: true
    err_doc: A custom error struct doc.
    err_kind_doc: A custom error doc.
    err_cat_doc: A custom category doc.
    error_trait: true
    result_from_err: true
    result_from_err_kind: true
    err_name: McError
    err_kind_name: McErrorKind
    err_cat_name: McErrorCategory
    categories:
      - name: Parsing
        doc: Parsing errors category.
        errors:
          - BAD_TOKEN: Decoded an invalid token.
          - QUEUE_FULL: Parsing queue is full.

      - name: Processing
        doc: Processing errors category.
        errors:
          - OUT_OF_MEMORY: Memory pool is empty.
          - QUEUE_FULL: Processing queue is full.
          - name: WITHOUT_DISPLAY
            doc: An error without display string.
            variant_type: true
          - name: WITHOUT_DOC
            display: An error without doc string.
            variant_type: true

      - name: General
        doc: General errors category.
        errors:
          - name: BAD_ARG
            display: Invalid argument received.
            doc: |
              An invalid argument was received.

              # Examples

              ```rust
              # struct Error;
              # impl From<u32> for Error {
              #     fn from(v: u32) -> Self {
              #         Self{}
              #     }
              # }
              # const BAD_ARG: u32 = 0;
              let e: Error = BAD_ARG.into();
              ```
          - TIMEOUT: Operation timed out.

  - name: flat_kinds_mod
    flat_kinds: true
    doc_from_display: true
    variant_type: true
    categories:
      - name: CatOne
        doc: "Category #1"
        errors:
          - CAT_ONE_ERR_ONE: "CatOne error #1"
          - CAT_ONE_ERR_TWO: "CatOne error #2"
          - name: CAT_ONE_WITHOUT_DISPLAY
            doc: A CatOne error without display string.
          - name: CAT_ONE_WITHOUT_DOC
            display: An error without doc string.
      - name: CatTwo
        doc: "Category #2"
        errors:
          - CAT_TWO_ERR_ONE: "CatTwo error #1"
          - CAT_TWO_ERR_TWO: "CatTwo error #2"
          - name: CAT_TWO_WITHOUT_DISPLAY
            doc: A CatTwo error without display string.
            variant_type: CatTwoSpecial

  - name: flat_kinds_mod_without_display
    flat_kinds: true
    variant_type: true
    categories:
      - name: CatOne
        doc: "Category #1"
        errors:
          - name: CAT_ONE_ERR_ONE
            doc: "CatOne error #1"
          - name: CAT_ONE_ERR_TWO
            doc: "CatOne error #2"
      - name: CatTwo
        doc: "Category #2"
        errors:
          - name: CAT_TWO_ERR_ONE
            doc: "CatTwo error #1"
          - name: CAT_TWO_ERR_TWO
            doc: "CatTwo error #2"
          - name: CAT_TWO_CUSTOM_NAME
            doc: A CatTwo error without display string.
            variant_type: CatTwoCustomVariantTypeName
